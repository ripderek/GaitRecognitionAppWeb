<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Entrenamiento de Modelos</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {  font-family: Arial, sans-serif; }
    #log { white-space: pre-wrap; background: #f8f9fa; padding: 10px; border: 1px solid #ddd; height: 300px; overflow-y: scroll; }
  </style>
</head>
<body>
 {% include 'navbar.html' %}
<h1>Entrenamiento de Modelos</h1>

<div class="mb-3">
  <button class="btn btn-primary" onclick="iniciar(1)">Entrenar Modelo 1</button>
  <button class="btn btn-primary" onclick="iniciar(2)">Entrenar Modelo 2</button>
  <button class="btn btn-primary" onclick="iniciar(3)">Entrenar Modelo 3</button>
</div>

<h5>Estado del entrenamiento:</h5>
<div id="log">Esperando acci√≥n...</div>

<script>
  function iniciar(numero){
    fetch(`/iniciar_entrenamiento/${numero}`, { method: 'POST' })
      .then(res => res.json())
      .then(data => {
        document.getElementById('log').textContent = data.mensaje;
      });
  }

  // Actualizar estado cada segundo
  setInterval(() => {
    fetch('/estado_entrenamiento')
      .then(res => res.json())
      .then(data => {
        document.getElementById('log').textContent = data.mensaje;
      });
  }, 1000);
</script>

</body>
</html>
